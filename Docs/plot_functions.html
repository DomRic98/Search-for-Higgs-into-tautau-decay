
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Code Documentation: plot_functions.py &#8212; Searches for the Higgs boson in the tau-tau decay channel 0.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Code Documentation: ML_infoplot.py" href="ML_infoplot.html" />
    <link rel="prev" title="Code Documentation: ML_Higgs.py" href="ML_Higgs.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-plot_functions">
<span id="code-documentation-plot-functions-py"></span><h1>Code Documentation: plot_functions.py<a class="headerlink" href="#module-plot_functions" title="Permalink to this headline">¶</a></h1>
<p>This python script implements some useful functions for ML_Higgs.py code</p>
<p>&#64; Authors: Domenico Riccardi &amp; Viola Floris</p>
<p>&#64; Creation Date: 09/04/2022</p>
<p>&#64; Last Update: 22/04/2022</p>
<dl class="py function">
<dt class="sig sig-object py" id="plot_functions.correlations">
<span class="sig-prename descclassname"><span class="pre">plot_functions.</span></span><span class="sig-name descname"><span class="pre">correlations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plot_functions.correlations" title="Permalink to this definition">¶</a></dt>
<dd><p>The function plots the correlation between ML variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel_name</strong> – Name of signal variable.</p></li>
<li><p><strong>data</strong> – Dataset of variables that we characterise.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The correlation’s plot.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plot_functions.plotting_ROC">
<span class="sig-prename descclassname"><span class="pre">plot_functions.</span></span><span class="sig-name descname"><span class="pre">plotting_ROC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpr_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpr_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpr_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpr_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresholds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roc_auc_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roc_auc_train</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plot_functions.plotting_ROC" title="Permalink to this definition">¶</a></dt>
<dd><p>This function plots the ROC curve (Receiver Operating Characteristic)
that shows the True Positive Rate vs False Positive Rate compared to random chance.
The Best Threshold found is also highlighted,
so this summary visual is used to assess the performance of classification models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel_name</strong> – ANN or RFC ML algorithm depending on the case.</p></li>
<li><p><strong>fpr_test</strong> – False Positive Rate on test dataset.</p></li>
<li><p><strong>tpr_test</strong> – True Positive Rate on test dataset.</p></li>
<li><p><strong>fpr_train</strong> – False Positive Rate on training dataset.</p></li>
<li><p><strong>tpr_train</strong> – True Positive Rate on training dataset.</p></li>
<li><p><strong>thresholds</strong> – Thresholds on the ANN’s and RF’s score.</p></li>
<li><p><strong>ix</strong> – Best Threshold’s index</p></li>
<li><p><strong>roc_auc_test</strong> – Area under the ROC curve on test set.</p></li>
<li><p><strong>roc_auc_train</strong> – Area under the ROC curve on training set.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The plot of ROC on test and training sets, random chance and Best Threshold.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plot_functions.plotting_accuracy">
<span class="sig-prename descclassname"><span class="pre">plot_functions.</span></span><span class="sig-name descname"><span class="pre">plotting_accuracy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_accuracy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plot_functions.plotting_accuracy" title="Permalink to this definition">¶</a></dt>
<dd><p>This plot shows the ANN accuracy on training and validation set vs epochs,
with accuracy defined as the number of correctly matches between the predictions and the true labels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel_name</strong> – Name of signal variable.</p></li>
<li><p><strong>accuracy</strong> – Accuracy metric on the training set.</p></li>
<li><p><strong>val_accuracy</strong> – Accuracy metric on the validation set.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The ANN accuracies plot comparison.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plot_functions.plotting_confusion_matrix">
<span class="sig-prename descclassname"><span class="pre">plot_functions.</span></span><span class="sig-name descname"><span class="pre">plotting_confusion_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_prediction_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_test</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plot_functions.plotting_confusion_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>This function plots the confusion matrix that summarizes the predictions classification
of the model between various classes.
The elements, from the top-left side clockwise, represent TN, FP, FN and TP rates on test dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel_name</strong> – ANN or RFC algorithm depending on the case.</p></li>
<li><p><strong>y_test</strong> – True label events on test set.</p></li>
<li><p><strong>y_prediction_test</strong> – Predicted label events on test set.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The confusion matrix with information from the evaluation metrics.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plot_functions.plotting_loss">
<span class="sig-prename descclassname"><span class="pre">plot_functions.</span></span><span class="sig-name descname"><span class="pre">plotting_loss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_loss</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plot_functions.plotting_loss" title="Permalink to this definition">¶</a></dt>
<dd><p>The function plots the loss function on training and validation set vs epochs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel_name</strong> – Name of signal variable.</p></li>
<li><p><strong>loss</strong> – The history of loss function during training phase.</p></li>
<li><p><strong>val_loss</strong> – The history of loss function on validation set.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The loss functions plot comparison.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plot_functions.plotting_output_score">
<span class="sig-prename descclassname"><span class="pre">plot_functions.</span></span><span class="sig-name descname"><span class="pre">plotting_output_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_prediction_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_prediction_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut_dnn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plot_functions.plotting_output_score" title="Permalink to this definition">¶</a></dt>
<dd><p>This summary plot shows the output score both with histograms of predictions on
the training set and with the trend (points) of predictions on the test set.
The dashed line is the threshold that splits signals and background events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel_name</strong> – ANN or RFC algorithm depending on the case.</p></li>
<li><p><strong>y_train</strong> – True label events on training set.</p></li>
<li><p><strong>y_prediction_train</strong> – Prediction label events on training set.</p></li>
<li><p><strong>y_test</strong> – True label events on test set.</p></li>
<li><p><strong>y_prediction_test</strong> – Prediction label events on test set.</p></li>
<li><p><strong>cut_dnn</strong> – Separating threshold.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The histograms and trends of output score on training and test set, with highlighted threshold.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plot_functions.plotting_physical_variables">
<span class="sig-prename descclassname"><span class="pre">plot_functions.</span></span><span class="sig-name descname"><span class="pre">plotting_physical_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">CHOICE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_prediction_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_prediction_test_rf</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plot_functions.plotting_physical_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>These plots show histograms of some physical variables (split into signal and background)
with the ANN’s and RFC’s predictions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> – Physical variables name</p></li>
<li><p><strong>feature</strong> – Physical variable</p></li>
<li><p><strong>y_test</strong> – Target vector for the test (true labels)</p></li>
<li><p><strong>y_prediction_test</strong> – ANN’s target vector for predictions</p></li>
<li><p><strong>y_prediction_test_rf</strong> – RF’s target vector for predictions</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The physical variables plotted with the ANN’s and RFC’s predictions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plot_functions.plotting_purity_vs_efficiency">
<span class="sig-prename descclassname"><span class="pre">plot_functions.</span></span><span class="sig-name descname"><span class="pre">plotting_purity_vs_efficiency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recall_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recall_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">purity_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">purity_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ix</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plot_functions.plotting_purity_vs_efficiency" title="Permalink to this definition">¶</a></dt>
<dd><p>The function plots the product of purity (indicates how accurate the model is)
and efficiency (indicates how properly selective the model is) metrics against the threshold already calculated.
It compared both test set results and training set results, moreover Best Threshold found is also highlighted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel_name</strong> – ANN or RFC algorithm depending on the case.</p></li>
<li><p><strong>t_test</strong> – Threshold already calculated on test set.</p></li>
<li><p><strong>t_train</strong> – Threshold already calculated on training set.</p></li>
<li><p><strong>recall_test</strong> – Efficiency values on test set.</p></li>
<li><p><strong>recall_train</strong> – Efficiency values on training set.</p></li>
<li><p><strong>purity_test</strong> – Purity values on test set.</p></li>
<li><p><strong>purity_train</strong> – Purity values on training set.</p></li>
<li><p><strong>ix</strong> – Best Threshold’s index</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The curves of purity times efficiency vs threshold and Best Threshold.</p>
</dd>
</dl>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Searches for the Higgs boson in the tau-tau decay channel</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Machine Learning Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="ML_Higgs.html">Code Documentation: ML_Higgs.py</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Code Documentation: plot_functions.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="ML_infoplot.html">Code Documentation: ML_infoplot.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="ML_test.html">Code Documentation: ML_test.py</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Download Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="download_sequential.html">Code Documentation: download_sequential.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="download_parallel.html">Code Documentation: download_parallel.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="download_threads.html">Code Documentation: download_threads.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="download_test.html">Code Documentation: download_test.py</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="ML_Higgs.html" title="previous chapter">Code Documentation: ML_Higgs.py</a></li>
      <li>Next: <a href="ML_infoplot.html" title="next chapter">Code Documentation: ML_infoplot.py</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Domenico Riccardi & Viola Floris.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/plot_functions.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>